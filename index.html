<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Visual strace</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="loader">
      <header id="repo-link">
        <a
          href="https://github.com/lhoursquentin/visual-strace"
          target="_blank"
        >
          Github repo
        </a>
        <button id="toggle-loader" title="minimize window">-</button>
      </header>

      <a id="export-url" style="display: none; margin-top: 5px">
        Sharable URL of this run
      </a>
      <section id="loader-content">
        <p>
          Run:<br>
          <code>
            <input
              id="strace-cmd"
              type="text"
              value="strace -o strace.out -yqrfe clone,execve,fork,vfork,read,write "
              readonly
            >
            &lt;cmd&gt; [args]...
          </code>
        </p>
        <ul>
          <li>
            Paste the contents of the newly created <code>strace.out</code>
            file in the text area below
          </li>
          <li>
            Or load a strace file (using <code>strace -o</code>):
            <input id="strace-file-input" type="file">
          </li>
          <li>
            Or click <a href="./index.html?q=034itesystem-summarycbluetoothctl3sed7new-usb5lsusb4grep2ps4tail5nmcli8iwconfig6amixer2df4date0100010101091110111112012111301201140131010111400101213h41w1014031w1013021101404111111031111140210012021001102100100115015011601501170161010131700101216511801601190181010141900101518311a018B411121813111218041112180411131a0311131a021001804273141903273141802100190211016121101702100150210010011b01b111c01b011d01b011e01c1010161d0010171c~42Z4151d032Z4151d0328z151c0428z151d041l161e0311161e0311161e0311161e0311161e0311161e0311161e0311161d021001e0311161e0311161e0311161c021001e0311161e0311161e0311161e0311161e0311161e0311161e0311161e0311161e0311161e0311161e0311161e041q1710031q171e021001b0210010011f01f1211010011g01g011h01g011i01h1010181i0010121hm11j01h211k01k211l01hj41c181i031c181l121001k021001j021001h021001i041c1910031c191i021001g0210010011o01o111p01p011q01p011r01q1010191r0010121q5425Z1a1r0325Z1a1q021001r041a1b1o031a1b1r021001p021001003161c1o04161c1o041e1c10031e1c1o0210010011s01s04151d1003151d1s14111d1003111d1s1211010011t01t241b1e10031b1e1003141e1t04141e1t0210010011u01u011v01u011w01u011x01v10101a1w0010121vj11y01v04111f1v04111f1y03121f1y04111f1y04111f1y04111f1y04111f1y03141f1y04111f1y04111f1y03121f1y04111f1y03111f1y04111f1y04111f1y03121f1y04111f1y04111f1y04111f1y04111f1y04111f1y03151f1y04111f1y04111f1y03121f1y04111f1y04111f1y03121f1y04111f1y04111f1y03121f1y04111f1y04111f1y03121f1y04111f1y04111f1y03121f1y04111f1y04111f1y03121f1y04111f1y04111f1y03121f1y04111f1y04111f1y04111f1y04111f1y04111f1y03151f1y04111f1y04111f1y03121f1y04111f1y04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1y04111g1v04111f1v04111f1y03121f1y04111g1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1v04111f1y03121f1v04111f1y021001v04111g1v04111f1v04111f1v0422L1h1w0322L1h1w04191i1x03111i1x03111i1x03111i1x03111i1x03111i1x03111i1v021001x03111i1x03111i1x03111i1w021001003151j1x04151j10031e1j1x041e1j1x021001u0210010011z01za4151k1003151k10031e1k1z041e1k1z0210010011A01003161l1A04161l1A011B01A011C01B10101b1C33111m1B041y1m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1B021001C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m1C03111m10031j1l1C041j1l1C021001A0210010011D01D111E01E00101c10131k1n1E041k1n1E021001D021001012100">here</a> to load an
            <a
              href="https://github.com/lhoursquentin/system-summary"
              target="_blank"
            >
              example
            </a>
          </li>
        </ul>
        <div id="run-form">
          <textarea
            id="strace-output"
            placeholder="strace output goes here"
            spellcheck="false"
          ></textarea>
          <button id="run" disabled>run</button>
        </div>
        <details>
          <summary>
            How to read the graph
          </summary>
          <ul>
            <li>
              Grey arrows represent father/children process relationships
              via <code>fork</code> (or similar) syscalls
            </li>
            <li>
              Orange arrows represent read and write syscalls, the origin
              process is the writer and the destination process is the reader
            </li>
            <li>
              Green dots are processes that ended with a zero exit code
            </li>
            <li>
              Red dots are processes that ended with a non-zero exit code,
              which is specified between parentheses
            </li>
            <li>
              Purple dots are processes that ended due to a signal,
              which is specified between parentheses
            </li>
            <li>
              Labels are either set with the process ID returned by a
              <code>fork</code> (or similar) syscall or with the basename of
              binary of a successful <code>execve</code>
            </li>
          </ul>
        </details>
      </section>
    </div>

    <div id="speed-controller">
      <label for="speed-slider">slow down factor</label>
      <input id="speed-slider" type="range">
      <input id="speed-value-input" type="number">
      <button id="pause-button">Pause</button>
    </div>

    <div id="cy"></div>

    <div id="cytoscape-link">
      Graph built with <a href="https://js.cytoscape.org/">Cytoscape.js</a>
    </div>

    <script src="./deps/cytoscape.min.js"></script>
    <script src="./graph.js"></script>
    <script src="./loader.js"></script>
    <script src="./serializer.js"></script>
    <script src="./speed.js"></script>

  </body>
</html>
